(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1084:(e,t,o)=>{"use strict";o.d(t,{default:()=>p});var n=o(5155),r=o(3915),a=o(5317);class s{getFirestoreInstance(){return this.firestore}async getPokemon(){let e=this.getFirestoreInstance();return(await (0,a.GG)((0,a.rJ)(e,"pokemon"))).docs.map(e=>e.data())}constructor(){let e;e=0===(0,r.Dk)().length?(0,r.Wp)({apiKey:"AIzaSyBom2JWS1HBHeJrOnwadokZksjmP-5uYU8",authDomain:"pokemon-amethyst-helper.firebaseapp.com",projectId:"pokemon-amethyst-helper",storageBucket:"pokemon-amethyst-helper.firebasestorage.app",messagingSenderId:"750567449305",appId:"1:750567449305:web:97642e30bd1164485f54c8",measurementId:"G-NRW36F12ZX"}):(0,r.Dk)()[0],this.firestore=(0,a.aU)(e)}}let c=new s;var i=o(6766);function l(e){let{pokemon:t}=e;return(0,n.jsxs)("div",{className:"pokedex-tile",style:{backgroundImage:"linear-gradient(to bottom right, ".concat(t.first_type_colour,", ").concat(t.second_type_colour,") ")},children:[(0,n.jsx)(i.default,{src:t.icon_url,alt:t.name,width:48,height:48,className:"pokedex-tile__icon"}),(0,n.jsx)("b",{children:t.name})]})}var d=o(2115);function p(){let[e,t]=(0,d.useState)([]),[o,r]=(0,d.useState)(!0),[a,s]=(0,d.useState)(null);return console.log("Setting up component"),(0,d.useEffect)(()=>{console.log("Fetching"),c.getPokemon().then(e=>{console.log("Fetched"),t(e.map((e,t)=>(e.icon_url=function(e){if(!e||!e.national_pokedex_number||!e.name)throw Error("Invalid Pokemon data; cannot generate icon URL");let t=e.national_pokedex_number.toString().padStart(4,"0");return(e.name.endsWith("-A")||e.name.endsWith("-G"))&&(t+="_01"),"https://projectpokemon.org/images/sprites-models/sv-sprites-home/".concat(t,".png")}(e),e.first_type_colour="var(--type_".concat(e.type[0],")"),e.second_type_colour=e.type[1]?"var(--type_".concat(e.type[1],")"):e.first_type_colour,(0,n.jsx)(l,{pokemon:e},t))))}).catch(e=>{console.log("Caught error"),e instanceof Error?s("Error fetching Pokemon data: ".concat(e.message)):s("Error fetching Pokemon data: Unknown error")}).finally(()=>{console.log("Finalizing loading"),r(!1)})},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"centered",children:[(0,n.jsx)("h1",{children:"Pokedex"}),(0,n.jsx)("p",{children:"Click on a Pokemon to view its details."})]}),(0,n.jsxs)("div",{className:"pokedex-container",children:[o&&(0,n.jsx)("div",{className:"centered",children:"Loading..."}),!o&&a&&(0,n.jsx)("div",{className:"centered",children:a}),!o&&!a&&e]})]})}},4626:(e,t,o)=>{Promise.resolve().then(o.bind(o,1084))}},e=>{var t=t=>e(e.s=t);e.O(0,[992,742,441,684,358],()=>t(4626)),_N_E=e.O()}]);